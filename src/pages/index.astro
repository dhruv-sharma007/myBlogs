---
import DefaultLayout from "../layouts/DefaultLayout.astro";
import BlogBox from "../components/BlogBox.astro";
import "../styles/global.css";
const allPosts = Object.values(
	import.meta.glob("./blogs/*.md", { eager: true })
);
const latestPosts = allPosts.slice(-4);
console.log(latestPosts);
---

<DefaultLayout title="My Blog Website">
	<section
		class="flex flex-col md:flex-row items-center justify-between gap-8 py-16 px-6">
		<div class="text-center md:text-left max-w-xl">
			<h1 class="text-5xl font-bold text-white mb-4">
				Hey, I'm Dhruv Sharma 👋
			</h1>
			<p class="text-gray-400 text-lg">
				I’m a full-stack dev who loves building projects, writing blogs, and
				exploring tech.
			</p>
		</div>
		<img
			src="https://i.pinimg.com/originals/90/70/32/9070324cdfc07c68d60eed0c39e77573.gif"
			alt="Dev GIF"
			class="w-full max-w-md rounded-xl shadow-md"
		/>
	</section>

	<section class="mt-20">
		<h2 class="text-3xl font-semibold mb-6 text-white">📝 Latest Posts</h2>
		<ul class="grid gap-6 md:grid-cols-2">
			{
				latestPosts
					? latestPosts.map((post: any) => {
							return (
								<BlogBox
									title={post.frontmatter.title}
									description={post.frontmatter.description}
									href={post.url}
								/>
							);
						})
					: ""
			}
		</ul>
	</section>
</DefaultLayout>
